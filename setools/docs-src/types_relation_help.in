AN OVERVIEW OF TYPES RELATIONSHIP SUMMARY ANALYSIS
apol, version APOL_GUI_VERSION
MOD_DATE
selinux@tresys.com


Apol allows one to analyze an SELinux policy in order to understand the relationship 
between two specific types that are defined in the policy. Policy developers 
may want to know if there exists any relationship (or interactions) between 
typeA and typeB and exactly what makes up that relationship (i.e., what rules, 
permissions, attributes, roles, etc. exist that cause or allow interactions 
between the two types). Or they may want to determine whether a particular 
type is completely isolated from another. This analysis can also be used as a 
stepping stone to analyzing dependencies within a policy. For example, one may 
want to determine whether typeA is dependent upon typeB or vice versa. Does typeA 
need to write to typeB or read from typeB to perform its' duties? What happens 
if typeA is removed from the policy?

Additional questions that this type of analysis may answer include: Are both 
types assigned to a common attribute or role? What users have access to this 
type/attribute through a common role? What common object types do the types in 
question access? What makes them similar? What makes them unique, thus needing 
a separate type defined? How do the types, particularly domains, interact with 
each other; through process signaling or through a more complex interprocess 
communication (IPC) mechanism? Do the two types share any data and if so, how 
does information move from one domain to another?

USING THE TYPES RELATIONSHIP SUMMARY ANALYSIS INTERFACE IN APOL

The interface in apol presents the user with comboboxes for selecting the two 
types to be analyzed. They are labeled 'Type A' and 'Type B' respectively. 
Additionally, there are comboboxes below each in order to allow the user to 
create a smaller subset of types from which to choose for Type A and Type B.
Two subtabs, labeled 'Basic' and 'Analysis', are provided in the interface for
selecting the analyses to include in the summary. 

The 'Basic' tab contains options for determining the common attributes, roles 
and users that exist between Type A and Type B. Common users consist of users 
defined in the policy which have access to both Type A and Type B through a 
common role. This tab also provides options for determining common, as well 
as dissimilar, access to object types. So for example, if Type A and Type B 
are allowed some sort of access to 'user_home_dir_t', then the object type and  
the rule proof will appear within the results. And finally, the 'Basic' tab 
provides an option for searching for all allow rules that permit access between 
the two, as well an option for searching for all type transition/change rules 
between the two. 

The 'Analysis' tab contains options for performing additional analysis bwtween
the two types using the existing analysis modules in apol, namely, the Domain 
Transition, Direct and Transitive Information Flow analyses. These options are
provided more as a convenience to the user for including these analyses within
the summary. You will notice a limitation here in that the Direct Information 
Flow option is a two-way analysis (i.e. from A<->B), whereas the Transitive 
Information Flow and Domain Transition options are one-way (i.e. A->B and B->A)
analyses. So for example, if one needs to determine if any domain transitions 
exist between Type A and Type B, he or she would need to select both Domain 
Transition checkbuttons to perform the analysis. 

After selecting the desired options for the analysis, select 'New' or 'Update'
to start the analysis. This analysis may contain an overwhelming amount of 
information, so the results are simplified by listing each option selected as
an element of a tree widget. This allows the user to select an option from the 
tree and have more specific results displayed within the textbox.

UNDERSTANDING THE RESULTS OF A TYPES RELATIONSHIP SUMMARY ANALYSIS

Basically, the results consist of a summary of output from all of the analysis 
modules and other queries provided in apol using the two specified types as 
input. A more experienced apol user, should be able to perform the analyses 
on his or her own, However, this module is available to provide a convenient 
and efficient way to summarize the relationship between two types. The results
of this analysis consist of:

	- the attribute(s) to which both types are assigned (common attribs) 
	- the role(s) which have access to both TypeA and TypeB (common roles) 
	- the users which have access to both TypeA and TypeB through a common
	  role. (common users) 
	- all type transition/change rules from TypeA to TypeB or vice versa
	- all allow rules that provide access between TypeA and TypeB 
	  (e.g., allow rules that allow TypeA and TypeB to send signals to each other)
	- types to which both TypeA and TypeB have common access 
	- types to which TypeA and TypeB have dissimilar access
	- any direct information flows between TypeA and TypeB
	- any transitive information flows between TypeA and TypeB
	- any domain transitions from TypeA to TypeB or vice versa 
	 
    
	
